<div class="flex-1 p-20 flex flex-col gap-4">
  <div class="flex flex-row flex-wrap gap-4 justify-between items-center">
    <div class="flex flex-row gap-2">
      <button (click)="addNewHero()" color="primary" mat-raised-button>
        Añadir nuevo heroe
      </button>
    </div>
    <div class="basis-1/4">
      <mat-form-field appearance="outline" class="w-full mt-5">
        <mat-label>Buscar heroe</mat-label>
        <button (click)="findByName()" aria-label="Find" mat-icon-button matPrefix>
          <mat-icon>search</mat-icon>
        </button>
        <input [(ngModel)]="value" matInput type="text" class="rounded-2xl">
        <button (click)="value=''; findByName()" [disabled]="!value" aria-label="Clear" mat-icon-button matSuffix>
          <mat-icon>clear</mat-icon>
        </button>
      </mat-form-field>
    </div>
    <mat-paginator
      (page)="pageChanged($event)"
      [length]="length"
      [pageIndex]="pageIndex"
      [pageSizeOptions]="[5, 10, 25, 100]"
      [pageSize]="pageSize">
    </mat-paginator>
  </div>

  <div class="flex flex-row flex-wrap gap-4 justify-start">
    @for (hero of heroes(); track hero.id) {
      <mat-card appearance="raised" class="mat-card-flex basis-1/4">
        <div class="basis-2/3">
          <img
            class="rounded-sm w-full h-full"
            src="{{hero.imagen_url}}"
            alt="hero pic" />
        </div>
        <div class="flex flex-col basis-2/3">
          <mat-card-header class="flex flex-col gap-2">
            <span class="font-bold">{{ hero.nombre | titlecase }} </span>
            <span>{{ hero.alias | titlecase }}</span>
             @if(hero.tags === 'marvel'){
               <img ngSrc="assets/imgs/logos/marvellog_48x48.webp" alt="logo" height="48"
                    width="48">
             } @else {
               <img ngSrc="assets/imgs/logos/dc.png" alt="logo" height="36"
                    width="36">
             }
          </mat-card-header>
          <mat-card-actions class="mt-auto ml-auto">
            <button
              mat-raised-button
              color="primary"
              [routerLink]="['detalle', hero.id]">
              Ver más
            </button>
          </mat-card-actions>
        </div>
      </mat-card>
    }
  </div>
</div>
